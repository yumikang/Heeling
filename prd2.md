íë§ ìŒì•… ì•± PRD (Product Requirements Document)
ğŸ“‹ Document Info
Version: 1.0
Date: 2025-01-25
Author: Leo
Phase: Phase 1 (Local-First MVP)
Platform: iOS, Android (React Native)

ğŸ¯ Product Vision
Mission Statement
ìˆ˜ë©´ê³¼ ëª…ìƒì„ ìœ„í•œ ëª°ì…í˜• ì˜¤ë””ì˜¤-ë¹„ì£¼ì–¼ ê²½í—˜ì„ ì œê³µí•˜ëŠ” ëª¨ë°”ì¼ ì•±
Core Value Proposition
ì¼ë°˜ ìŒì•… ì•±ê³¼ì˜ ì°¨ë³„ì :
1. ì „ì²´í™”ë©´ ë¹„ì£¼ì–¼ ê²½í—˜ (ì•¨ë²” ì»¤ë²„ ì•„ë‹˜)
2. í™”ë©´ ë°ê¸° ì¡°ì ˆì´ í•µì‹¬ ê¸°ëŠ¥
3. ìµœì†Œ UIë¡œ ìˆ˜ë©´ ë°©í•´ ì—†ìŒ
4. ë¡œì»¬ ìš°ì„  ì•„í‚¤í…ì²˜ (ì˜¤í”„ë¼ì¸ ì™„ë²½ ì§€ì›)
Target Users
Primary: ìˆ˜ë©´ ì¥ì• ê°€ ìˆëŠ” 20-40ëŒ€
Secondary: ëª…ìƒ/ìš”ê°€ ì‹¤ì²œì
Tertiary: ì§‘ì¤‘ë ¥ í–¥ìƒ í•„ìš”í•œ ì§ì¥ì¸

ğŸ“Š Product Strategy
Phase êµ¬ë¶„
Phase 1 (MVP - 8ì£¼):
- ë¡œì»¬ ì¤‘ì‹¬ ì•„í‚¤í…ì²˜
- SQLite ê¸°ë°˜ ë°ì´í„° ê´€ë¦¬
- ë²ˆë“¤ëœ ì»¨í…ì¸  (5-10ê³¡)
- Apple/Google ë¡œê·¸ì¸
- ê¸°ë³¸ ì¬ìƒ ê¸°ëŠ¥

Phase 2 (ì„œë²„ ì—°ë™ - 4ì£¼):
- ë°±ì—”ë“œ API ì—°ë™
- ì»¨í…ì¸  ë™ê¸°í™”
- ì‚¬ìš©ì ë°ì´í„° í´ë¼ìš°ë“œ ë°±ì—…
- ë¶„ì„/ë¡œê¹…

Phase 3 (í™•ì¥ - TBD):
- ì¸ì•± êµ¬ë§¤
- ì†Œì…œ ê¸°ëŠ¥
- ì»¤ë®¤ë‹ˆí‹°
Business Model
Phase 1 (í˜„ì¬):
- Freemium
- 1ê³¡ ë¬´ë£Œ ì²´í—˜ (ë¡œê·¸ì¸ ë¶ˆí•„ìš”)
- ì „ì²´ ì ‘ê·¼ â†’ ë¡œê·¸ì¸ í•„ìš”
- ê´‘ê³  ì—†ìŒ

Phase 2:
- ë¬´ë£Œ: ì œí•œëœ ì»¨í…ì¸ 
- í”„ë¦¬ë¯¸ì—„: ì „ì²´ ì ‘ê·¼ ($9.99/ì›”)

ğŸ” Authentication & Authorization
ë¡œê·¸ì¸ ì •ì±…
ì„¤ì¹˜ ì§í›„:
â””â”€ 1ê³¡ ë¬´ë£Œ ì²´í—˜ (Guest Mode)
   - ë¡œê·¸ì¸ ë¶ˆí•„ìš”
   - ë°ì´í„° ë¡œì»¬ ì €ì¥ë§Œ
   - ë™ê¸°í™” ì—†ìŒ

2ê³¡ ì´ìƒ ì ‘ê·¼ ì‹œë„:
â””â”€ ë¡œê·¸ì¸ ìš”êµ¬
   â”œâ”€ Apple Sign In (iOS ìš°ì„ )
   â”œâ”€ Google Sign In (Android ìš°ì„ )
   â””â”€ ë¡œê·¸ì¸ í›„ ì „ì²´ ì»¨í…ì¸  ì ‘ê·¼
User Journey
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ App Launch              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Guest Mode              â”‚
â”‚ - 1ê³¡ë§Œ ì¬ìƒ ê°€ëŠ¥        â”‚
â”‚ - "ë” ë§ì€ ìŒì•…" ë²„íŠ¼    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ (2ê³¡ì§¸ ì‹œë„)
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Login Wall              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ Appleë¡œ ê³„ì†í•˜ê¸°  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ”µ Googleë¡œ ê³„ì†í•˜ê¸° â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ (ë¡œê·¸ì¸ ì™„ë£Œ)
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Full Access             â”‚
â”‚ - ì „ì²´ íŠ¸ë™ ì ‘ê·¼         â”‚
â”‚ - ì„¤ì • ì €ì¥             â”‚
â”‚ - ì¬ìƒ íˆìŠ¤í† ë¦¬         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ë°ì´í„° ê´€ë¦¬
Guest Mode:
- user_id: null
- ë¡œì»¬ SQLiteë§Œ
- ì•± ì‚­ì œ ì‹œ ë°ì´í„° ì†ì‹¤

Logged In:
- user_id: {provider_id}
- ë¡œì»¬ SQLite
- Phase 2ì—ì„œ í´ë¼ìš°ë“œ ë°±ì—…

ğŸ—„ï¸ Data Architecture (Phase 1)
ë¡œì»¬ SQLite ìŠ¤í‚¤ë§ˆ
sql-- ì‚¬ìš©ì
CREATE TABLE users (
  id TEXT PRIMARY KEY,           -- Apple/Google ID
  provider TEXT NOT NULL,        -- 'apple' | 'google'
  email TEXT,
  display_name TEXT,
  created_at INTEGER,
  last_login INTEGER
);

-- íŠ¸ë™ ë©”íƒ€ë°ì´í„°
CREATE TABLE tracks (
  id TEXT PRIMARY KEY,
  title TEXT NOT NULL,
  artist TEXT,
  category TEXT,                 -- 'sleep' | 'meditation' | 'nature'
  duration INTEGER,              -- seconds
  audio_file TEXT NOT NULL,      -- local file path
  background_image TEXT NOT NULL,-- local file path
  recommended_brightness REAL,   -- 0.0 - 1.0
  is_free INTEGER DEFAULT 0,     -- 0 or 1 (ì²´í—˜ ê³¡)
  sort_order INTEGER,
  created_at INTEGER
);

-- ì¬ìƒ íˆìŠ¤í† ë¦¬
CREATE TABLE play_history (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  user_id TEXT,                  -- null for guest
  track_id TEXT NOT NULL,
  played_at INTEGER,
  duration_played INTEGER,       -- seconds actually played
  FOREIGN KEY (track_id) REFERENCES tracks(id)
);

-- ì‚¬ìš©ì ì„¤ì •
CREATE TABLE user_settings (
  user_id TEXT PRIMARY KEY,
  default_brightness REAL,
  clock_style TEXT,              -- 'digital' | 'analog' | 'minimal'
  clock_persist INTEGER,         -- 0 or 1
  haptic_enabled INTEGER,        -- 0 or 1
  created_at INTEGER,
  updated_at INTEGER,
  FOREIGN KEY (user_id) REFERENCES users(id)
);

-- ì•± ë©”íƒ€ë°ì´í„°
CREATE TABLE app_metadata (
  key TEXT PRIMARY KEY,
  value TEXT,
  updated_at INTEGER
);
-- ì˜ˆ: ('first_launch', '2025-01-25', 1234567890)
--     ('guest_plays_count', '1', 1234567890)
```

### **íŒŒì¼ êµ¬ì¡°**
```
/assets/
â”œâ”€ audio/
â”‚  â”œâ”€ track_001.mp3
â”‚  â”œâ”€ track_002.mp3
â”‚  â””â”€ track_003.mp3
â”‚
â”œâ”€ images/
â”‚  â”œâ”€ track_001.webp
â”‚  â”œâ”€ track_002.webp
â”‚  â””â”€ track_003.webp
â”‚
â””â”€ data/
   â””â”€ initial_tracks.json      -- ì´ˆê¸° SQLite ì‹œë“œ ë°ì´í„°
initial_tracks.json êµ¬ì¡°
json{
  "version": "1.0",
  "tracks": [
    {
      "id": "track_001",
      "title": "Rainy Forest",
      "artist": "Nature Sounds",
      "category": "sleep",
      "duration": 3600,
      "audio_file": "audio/track_001.mp3",
      "background_image": "images/track_001.webp",
      "recommended_brightness": 0.1,
      "is_free": 1,
      "sort_order": 1
    },
    {
      "id": "track_002",
      "title": "Ocean Waves",
      "artist": "Nature Sounds",
      "category": "meditation",
      "duration": 2400,
      "audio_file": "audio/track_002.mp3",
      "background_image": "images/track_002.webp",
      "recommended_brightness": 0.2,
      "is_free": 0,
      "sort_order": 2
    }
  ]
}
```

---

## ğŸ¨ UI/UX Specification

### **í™”ë©´ êµ¬ì¡°**
```
App Flow:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Splash         â”‚
â”‚   (1ì´ˆ)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Playlist View    â”‚ â† ê¸°ë³¸ í™”ë©´
â”‚ (ê³¡ ë¦¬ìŠ¤íŠ¸)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ (íƒ­)
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Player View      â”‚ â† ì „ì²´í™”ë©´
â”‚ (ëª°ì… ê²½í—˜)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ (ìŠ¤ì™€ì´í”„ ë‹¤ìš´)
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Playlist View    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **Screen: Playlist View**
```
êµ¬ì„± ìš”ì†Œ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Header]                    â”‚
â”‚ "íë§ ìŒì•…" + [âš™ï¸Settings]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚ [Track List]                â”‚
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [ì¸ë„¤ì¼] Rainy Forest   â”‚ â”‚
â”‚ â”‚ Nature Sounds  30:00    â”‚ â”‚
â”‚ â”‚ âœ“ ë¬´ë£Œ                  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ [ì¸ë„¤ì¼] Ocean Waves    â”‚ â”‚
â”‚ â”‚ Nature Sounds  40:00    â”‚ â”‚
â”‚ â”‚ ğŸ”’ ë¡œê·¸ì¸ í•„ìš”          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì¸í„°ë™ì…˜:
- ë¬´ë£Œ íŠ¸ë™ íƒ­ â†’ ì¦‰ì‹œ ì¬ìƒ
- ì ê¸´ íŠ¸ë™ íƒ­ â†’ ë¡œê·¸ì¸ ëª¨ë‹¬
```

### **Screen: Login Modal**
```
Bottom Sheet ìŠ¤íƒ€ì¼:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚  ë” ë§ì€ íë§ ìŒì•…ì„          â”‚
â”‚  ì¦ê¸°ë ¤ë©´ ë¡œê·¸ì¸í•˜ì„¸ìš”        â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ Appleë¡œ ê³„ì†í•˜ê¸°      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ”µ Googleë¡œ ê³„ì†í•˜ê¸°     â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                             â”‚
â”‚  ë¬´ë£Œë¡œ ì „ì²´ ì»¨í…ì¸  ì´ìš©     â”‚
â”‚                             â”‚
â”‚  [ë‚˜ì¤‘ì—]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì¸í„°ë™ì…˜:
- Apple/Google íƒ­ â†’ OAuth í”Œë¡œìš°
- ë‚˜ì¤‘ì— â†’ ëª¨ë‹¬ ë‹«ê¸°
```

### **Screen: Player View**
```
ê¸°ë³¸ ìƒíƒœ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚                             â”‚
â”‚    [ì „ì²´í™”ë©´ ë°°ê²½ ì´ë¯¸ì§€]     â”‚
â”‚                             â”‚
â”‚                             â”‚
â”‚                             â”‚
â”‚                             â”‚
â”‚                             â”‚
â”‚                             â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ Rainy Forest                â”‚ â† ì‘ê²Œ
â”‚ Nature Sounds               â”‚ â† ë” ì‘ê²Œ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

í„°ì¹˜ â†’ ì‹œê³„ í‘œì‹œ:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    [ë°˜íˆ¬ëª… ì˜¤ë²„ë ˆì´ 30%]     â”‚
â”‚                             â”‚
â”‚       â•”â•â•â•â•â•â•â•â•—             â”‚
â”‚       â•‘ 02:34 â•‘             â”‚
â”‚       â•‘  AM   â•‘             â”‚
â”‚       â•šâ•â•â•â•â•â•â•â•             â”‚
â”‚                             â”‚
â”‚                             â”‚
â”‚                             â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ Rainy Forest                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
(3ì´ˆ í›„ ìë™ ì‚¬ë¼ì§)

ìœ„ë¡œ ìŠ¤ì™€ì´í”„ â†’ ì»¨íŠ¸ë¡¤:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    [ë°˜íˆ¬ëª… ì˜¤ë²„ë ˆì´ 50%]     â”‚
â”‚                             â”‚
â”‚     â—‰â”€â”€â”€â”€â”€â”€â”€â”€â—‹â”€â”€â”€â”€          â”‚ â† ë°ê¸°
â”‚     ğŸ”…         ğŸ”†           â”‚
â”‚                             â”‚
â”‚        â–¶ï¸  â¸               â”‚ â† ì¬ìƒ/ì¼ì‹œì •ì§€
â”‚                             â”‚
â”‚                             â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ Rainy Forest                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
(ì•„ë˜ë¡œ ìŠ¤ì™€ì´í”„ â†’ ë‹«ê¸°)
```

### **ì œìŠ¤ì²˜ ë§µí•‘**
```
Player View ì œìŠ¤ì²˜:

[ì¤‘ì•™ íƒ­]
â””â”€ ì‹œê³„ í‘œì‹œ/ìˆ¨ê¹€ (í† ê¸€)

[ì¤‘ì•™ ìœ„ë¡œ ìŠ¤ì™€ì´í”„]
â””â”€ ì»¨íŠ¸ë¡¤ ì˜¤ë²„ë ˆì´ í‘œì‹œ

[ì»¨íŠ¸ë¡¤ ì•„ë˜ë¡œ ìŠ¤ì™€ì´í”„]
â””â”€ ì»¨íŠ¸ë¡¤ ë‹«ê¸°

[ì¤‘ì•™ ì¢Œë¡œ ìŠ¤ì™€ì´í”„]
â””â”€ ë‹¤ìŒ ê³¡ (ë¡œê·¸ì¸ ì‚¬ìš©ìë§Œ)

[ì¤‘ì•™ ìš°ë¡œ ìŠ¤ì™€ì´í”„]
â””â”€ ì´ì „ ê³¡ (ë¡œê·¸ì¸ ì‚¬ìš©ìë§Œ)

[ì „ì²´ í™”ë©´ ì•„ë˜ë¡œ ìŠ¤ì™€ì´í”„]
â””â”€ Player ë‹«ê¸° (Playlistë¡œ ë³µê·€)

[ì™¼ìª½ ê°€ì¥ìë¦¬ ìŠ¤ì™€ì´í”„]
â””â”€ ì‹œìŠ¤í…œ ë’¤ë¡œê°€ê¸° (ì˜ˆì•½ë¨)
```

---

## ğŸµ Audio Playback Requirements

### **ì¬ìƒ ì—”ì§„**
```
ë¼ì´ë¸ŒëŸ¬ë¦¬: react-native-track-player

í•„ìˆ˜ ê¸°ëŠ¥:
âœ… ë°±ê·¸ë¼ìš´ë“œ ì¬ìƒ
âœ… ì ê¸ˆí™”ë©´ ì»¨íŠ¸ë¡¤
âœ… ë¡œì»¬ íŒŒì¼ ì¬ìƒ
âœ… ì¬ìƒ/ì¼ì‹œì •ì§€/ì •ì§€
âœ… ë‹¤ìŒ/ì´ì „ ê³¡
âœ… ì¬ìƒ ì™„ë£Œ ì‹œ ë‹¤ìŒ ê³¡ ìë™ ì¬ìƒ

ì œì™¸ ê¸°ëŠ¥ (Phase 1):
âŒ ì§„í–‰ë°” (Seek)
âŒ ë³¼ë¥¨ ì¡°ì ˆ (ì‹œìŠ¤í…œ ë³¼ë¥¨ ì‚¬ìš©)
âŒ ì¬ìƒ ì†ë„
âŒ ì´í€„ë¼ì´ì €
```

### **ì¬ìƒ ë¡œì§**
```
Guest Mode (ë¡œê·¸ì¸ ì „):
- ë¬´ë£Œ íŠ¸ë™ 1ê³¡ë§Œ ì¬ìƒ ê°€ëŠ¥
- ë‹¤ë¥¸ ê³¡ ì‹œë„ â†’ ë¡œê·¸ì¸ ëª¨ë‹¬
- ë°±ê·¸ë¼ìš´ë“œ ì¬ìƒ ì§€ì›

Logged In:
- ì „ì²´ íŠ¸ë™ ì¬ìƒ ê°€ëŠ¥
- ê³¡ ê°„ ìë™ ì „í™˜
- ì¬ìƒ íˆìŠ¤í† ë¦¬ ì €ì¥
- ë°±ê·¸ë¼ìš´ë“œ ì¬ìƒ ì§€ì›
```

---

## ğŸŒ™ Screen Brightness Management

### **ë°ê¸° ì¡°ì ˆ ë°©ì‹**
```
êµ¬í˜„: ì•± ë‚´ ì˜¤ë²„ë ˆì´ (ì‹œìŠ¤í…œ ë°ê¸° ë¹„ì¡°ì‘)

ì´ìœ :
1. ê¶Œí•œ ë¶ˆí•„ìš”
2. ë‹¤ë¥¸ ì•±ì— ì˜í–¥ ì—†ìŒ
3. iOS ì‹¬ì‚¬ ì•ˆì „

ê¸°ìˆ :
- View with black background
- opacity: 1 - brightness (0.0 - 1.0)
- ì‹¤ì‹œê°„ ì¡°ì ˆ ê°€ëŠ¥
```

### **ë°ê¸° í”„ë¦¬ì…‹**
```
ìë™ ì œì•ˆ (ê³¡ë³„):
- ìˆ˜ë©´: 0.05 (ë§¤ìš° ì–´ë‘¡ê²Œ)
- ëª…ìƒ: 0.2 (ì•½ê°„ ì–´ë‘¡ê²Œ)
- íœ´ì‹: 0.5 (ì¤‘ê°„)

ì‚¬ìš©ì ì¡°ì ˆ:
- ìŠ¬ë¼ì´ë”ë¡œ 0.0 - 1.0 ë²”ìœ„
- ì„¤ì • ì €ì¥ (user_settings í…Œì´ë¸”)
```

---

## â° Clock Feature

### **ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„ íƒ**
```
Option A: react-native-clock (ê¶Œì¥)
- ë””ì§€í„¸/ì•„ë‚ ë¡œê·¸ ì§€ì›
- ì»¤ìŠ¤í„°ë§ˆì´ì§• ì‰¬ì›€

Option B: ì§ì ‘ êµ¬í˜„
- Date() API + Text ì»´í¬ë„ŒíŠ¸
- ê°„ë‹¨í•œ ë””ì§€í„¸ ì‹œê³„ë§Œ í•„ìš” ì‹œ
```

### **ì‹œê³„ ìŠ¤íƒ€ì¼**
```
Phase 1: ë””ì§€í„¸ë§Œ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  02:34  â”‚
â”‚   AM    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Phase 2: ì„ íƒ ê°€ëŠ¥
- ë””ì§€í„¸
- ì•„ë‚ ë¡œê·¸
- ë¯¸ë‹ˆë©€ (ìˆ«ìë§Œ)
```

### **í‘œì‹œ ë¡œì§**
```
ê¸°ë³¸: ìˆ¨ê¹€
í„°ì¹˜: 3ì´ˆê°„ í‘œì‹œ â†’ ìë™ ìˆ¨ê¹€
ë¡±í”„ë ˆìŠ¤: ê³ ì • í‘œì‹œ (ë‹¤ì‹œ í„°ì¹˜ ì‹œ ìˆ¨ê¹€)

ì €ì¥:
- user_settings.clock_style
- user_settings.clock_persist
```

---

## ğŸ–¼ï¸ Image Handling

### **ë¼ì´ë¸ŒëŸ¬ë¦¬**
```
react-native-fast-image (ê¶Œì¥)

ì¥ì :
- ìºì‹± ìë™
- webp ì§€ì›
- ì„±ëŠ¥ ìš°ìˆ˜

ëŒ€ì•ˆ:
- React Native Image (ê¸°ë³¸)
- ì¶©ë¶„í•  ìˆ˜ ìˆìŒ (ë¡œì»¬ íŒŒì¼ì´ë¯€ë¡œ)
```

### **ì´ë¯¸ì§€ ì‚¬ì–‘**
```
í¬ë§·: WebP (ìš°ì„ ), PNG (fallback)
í•´ìƒë„: 1080x1920 (9:16 ë¹„ìœ¨)
íŒŒì¼ í¬ê¸°: 200-500KB

ìµœì í™”:
- ì•± ë²ˆë“¤ì— í¬í•¨
- ëŸ°íƒ€ì„ ë¡œë”© ì—†ìŒ
- ë©”ëª¨ë¦¬ íš¨ìœ¨ ê³ ë ¤
```

---

## ğŸ”§ Settings Screen

### **ì„¤ì • í•­ëª©**
```
Settings:

[ê³„ì •]
- ë¡œê·¸ì¸ ì •ë³´ (Apple/Google)
- ë¡œê·¸ì•„ì›ƒ

[ì¬ìƒ]
- ë°±ê·¸ë¼ìš´ë“œ ì¬ìƒ (ON/OFF)
- ê³¡ ëë‚˜ë©´ ìë™ ë‹¤ìŒ ê³¡ (ON/OFF)

[í™”ë©´]
- ê¸°ë³¸ ë°ê¸°
- ì‹œê³„ ìŠ¤íƒ€ì¼ (ë””ì§€í„¸/ì•„ë‚ ë¡œê·¸/ë¯¸ë‹ˆë©€)
- ì‹œê³„ ìë™ ìˆ¨ê¹€ (3ì´ˆ/5ì´ˆ/ë”)

[ì ‘ê·¼ì„±]
- í–…í‹± í”¼ë“œë°± (ON/OFF)
- ë‹¤í¬ëª¨ë“œ (ìë™/ì¼œê¸°/ë„ê¸°)

[ì •ë³´]
- ë²„ì „ ì •ë³´
- ì´ìš©ì•½ê´€
- ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨
- ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ì„ ìŠ¤
```

---

## ğŸ“± Technical Stack

### **Core Technologies**
```
Framework:
- React Native 0.82+
- TypeScript 5.0+

Navigation:
- @react-navigation/native
- @react-navigation/native-stack

Audio:
- react-native-track-player

Database:
- react-native-sqlite-storage

Authentication:
- @invertase/react-native-apple-authentication (iOS)
- @react-native-google-signin/google-signin

UI Components:
- react-native-fast-image (ì´ë¯¸ì§€)
- react-native-clock (ì‹œê³„)
- react-native-gesture-handler (ì œìŠ¤ì²˜)
- react-native-safe-area-context (Safe Area)

Utilities:
- react-native-device-info
- @react-native-community/netinfo
- react-native-haptic-feedback
```

### **ê°œë°œ ë„êµ¬**
```
- ESLint + Prettier
- Jest (ìœ ë‹› í…ŒìŠ¤íŠ¸)
- Detox (E2E í…ŒìŠ¤íŠ¸, Phase 2)
- Reactotron (ë””ë²„ê¹…)
```

---

## ğŸ“¦ App Bundle Structure

### **Assets (Phase 1)**
```
ì˜ˆìƒ ë²ˆë“¤ í¬ê¸°:

ì˜¤ë””ì˜¤: 5ê³¡ Ã— 10MB = 50MB
ì´ë¯¸ì§€: 5ê³¡ Ã— 500KB = 2.5MB
ì½”ë“œ + ë¼ì´ë¸ŒëŸ¬ë¦¬: ~20MB
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì´ ì˜ˆìƒ: ~75MB

iOS App Store ì œí•œ: 200MB (Wi-Fi ë¶ˆí•„ìš”)
â†’ ì•ˆì „ ë²”ìœ„
```

### **ìµœì í™” ì „ëµ**
```
Phase 1:
- 5-10ê³¡ë§Œ ë²ˆë“¤
- WebP ì´ë¯¸ì§€
- ì˜¤ë””ì˜¤ 128kbps MP3

Phase 2 (ì„œë²„ ì—°ë™):
- ë²ˆë“¤: ì²´í—˜ ê³¡ 1-2ê³¡ë§Œ
- ë‚˜ë¨¸ì§€: ì˜¨ë””ë§¨ë“œ ë‹¤ìš´ë¡œë“œ
- ëª©í‘œ ë²ˆë“¤: <50MB
```

---

## ğŸ” Security & Privacy

### **ë°ì´í„° ë³´í˜¸**
```
Phase 1:
- ë¡œì»¬ SQLite (ì•”í˜¸í™” ì—†ìŒ)
- ë¯¼ê° ì •ë³´ ì—†ìŒ (ì¬ìƒ íˆìŠ¤í† ë¦¬ë§Œ)

Phase 2:
- API í†µì‹ : HTTPS
- í† í°: Keychain/Keystore ì €ì¥
- SQLite ì•”í˜¸í™” (SQLCipher)
```

### **ê°œì¸ì •ë³´ ì²˜ë¦¬**
```
ìˆ˜ì§‘ í•­ëª©:
- Apple/Google ID (ìµëª…)
- ì´ë©”ì¼ (ì„ íƒ)
- ì¬ìƒ íˆìŠ¤í† ë¦¬

ì‚¬ìš© ëª©ì :
- ê³„ì • ê´€ë¦¬
- ì»¨í…ì¸  ì¶”ì²œ (Phase 2)

ë³´ê´€ ê¸°ê°„:
- ê³„ì • ì‚­ì œ ì‹œ ì¦‰ì‹œ íŒŒê¸°
```

---

## ğŸ“Š Analytics & Monitoring

### **Phase 1 (ë¡œì»¬ ë¡œê¹…)**
```
ìˆ˜ì§‘ ì´ë²¤íŠ¸:
- app_launch
- track_play_start
- track_play_complete
- login_success
- login_fail

ì €ì¥:
- SQLite (play_history í…Œì´ë¸”)
- ì„œë²„ ì „ì†¡ ì—†ìŒ
```

### **Phase 2 (ì„œë²„ ì—°ë™)**
```
ë„êµ¬:
- Firebase Analytics (ë¬´ë£Œ)
- Sentry (ì—ëŸ¬ ì¶”ì )

ì¶”ê°€ ì´ë²¤íŠ¸:
- ì‚¬ìš©ì í–‰ë™ íŒ¨í„´
- í¬ë˜ì‹œ ë¦¬í¬íŠ¸
- ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
```

---

## ğŸ§ª Testing Strategy

### **Phase 1 í…ŒìŠ¤íŠ¸**
```
Unit Tests:
- SQLite CRUD
- Authentication flow
- Audio playback logic

Integration Tests:
- Login â†’ Track play
- Guest â†’ Login â†’ Full access

Manual Tests:
- ì „ì²´ ì‚¬ìš©ì í”Œë¡œìš°
- iOS/Android ê°ê°
- ë‹¤í¬ëª¨ë“œ
- ë°±ê·¸ë¼ìš´ë“œ ì¬ìƒ
```

### **Test Devices**
```
iOS:
- iPhone 14 Pro (iOS 17)
- iPhone SE (iOS 16)
- iPad Air (ì„ íƒ)

Android:
- Galaxy S23 (Android 14)
- Pixel 6 (Android 13)
```

---

## ğŸ“… Development Timeline

### **Phase 1: 8ì£¼ ê³„íš**
```
Week 1-2: ì¸í”„ë¼ ì„¤ì •
- React Native í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
- SQLite ìŠ¤í‚¤ë§ˆ ìƒì„±
- ë²ˆë“¤ ì—ì…‹ ì¤€ë¹„ (5ê³¡)
- Navigation êµ¬ì¡°

Week 3-4: í•µì‹¬ ê¸°ëŠ¥
- Playlist View
- Player View (ê¸°ë³¸)
- ì˜¤ë””ì˜¤ ì¬ìƒ ì—”ì§„
- ë°ê¸° ì¡°ì ˆ
- ì‹œê³„ ê¸°ëŠ¥

Week 5-6: ì¸ì¦ & ê¶Œí•œ
- Apple/Google ë¡œê·¸ì¸
- Guest vs Logged In ë¡œì§
- ë¡œê·¸ì¸ ëª¨ë‹¬
- ì„¤ì • í™”ë©´

Week 7: í…ŒìŠ¤íŠ¸ & ë²„ê·¸ ìˆ˜ì •
- í†µí•© í…ŒìŠ¤íŠ¸
- iOS/Android ê²€ì¦
- ì„±ëŠ¥ ìµœì í™”

Week 8: ì¶œì‹œ ì¤€ë¹„
- App Store/Play Store ë¦¬ìŠ¤íŒ…
- ìŠ¤í¬ë¦°ìƒ·/ë¹„ë””ì˜¤
- ì‹¬ì‚¬ ì œì¶œ
```

---

## ğŸš€ App Store Submission

### **iOS App Store**
```
í•„ìˆ˜ ìë£Œ:
- App Icon (1024x1024)
- ìŠ¤í¬ë¦°ìƒ· (6.7", 6.5", 5.5")
- App Preview ì˜ìƒ (ì„ íƒ)
- ì„¤ëª… (ì˜ì–´, í•œêµ­ì–´)
- í‚¤ì›Œë“œ
- ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ URL

Review Notes:
"This is a meditation and sleep music app.
Full-screen experience is intentional for
immersive relaxation. Standard iOS gestures
are fully preserved."
```

### **Google Play Store**
```
í•„ìˆ˜ ìë£Œ:
- Feature Graphic (1024x500)
- ìŠ¤í¬ë¦°ìƒ· (Phone, Tablet)
- í”„ë¡œëª¨ì…˜ ì˜ìƒ (ì„ íƒ)
- ì„¤ëª… (ì˜ì–´, í•œêµ­ì–´)
- ì¹´í…Œê³ ë¦¬: Health & Fitness

ëŒ€ìƒ:
- ì—°ë ¹: ì „ì²´ ì´ìš©ê°€
- ì½˜í…ì¸ : ì˜¤ë””ì˜¤ ìŠ¤íŠ¸ë¦¬ë°
```

---

## ğŸ”® Phase 2 Preview (ì„œë²„ ì—°ë™)

### **ë°±ì—”ë“œ ìš”êµ¬ì‚¬í•­**
```
API Endpoints:
- POST /auth/apple
- POST /auth/google
- GET /tracks (ë²„ì „ ì²´í¬)
- GET /tracks/:id
- POST /history

Database:
- PostgreSQL
- Users, Tracks, PlayHistory

Storage:
- AWS S3 (ì˜¤ë””ì˜¤/ì´ë¯¸ì§€)
```

### **ë™ê¸°í™” ì „ëµ**
```
ë¡œì»¬ ìš°ì„  (Offline-First):
1. SQLiteì—ì„œ ì¦‰ì‹œ ë¡œë“œ
2. ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì„œë²„ ì²´í¬
3. ìƒˆ ì»¨í…ì¸  ìˆìœ¼ë©´ ë‹¤ìš´ë¡œë“œ
4. SQLite ì—…ë°ì´íŠ¸
```

---

## ğŸ“‹ Success Metrics

### **Phase 1 KPIs**
```
ê¸°ìˆ ì :
- ì•± í¬ë˜ì‹œìœ¨ < 1%
- ë¡œë”© ì‹œê°„ < 500ms
- ë°°í„°ë¦¬ ì†Œëª¨ < 5%/hour

ë¹„ì¦ˆë‹ˆìŠ¤:
- ë¡œê·¸ì¸ ì „í™˜ìœ¨ > 30%
- DAU/MAU > 20%
- í‰ê·  ì„¸ì…˜ ì‹œê°„ > 15ë¶„

ì‚¬ìš©ì ê²½í—˜:
- App Store í‰ì  > 4.5
- ë°±ê·¸ë¼ìš´ë“œ ì¬ìƒ ì •ìƒ ì‘ë™
- iOS/Android ë™ì¼ ê²½í—˜
```

---

## ğŸ¯ Open Questions & Decisions Needed

### **ì¦‰ì‹œ ê²°ì • í•„ìš”**
```
Q1: ì´ˆê¸° ë²ˆë“¤ ê³¡ ìˆ˜?
A1: 5ê³¡ (ë¬´ë£Œ 1ê³¡ + ì ê¹€ 4ê³¡)

Q2: ì´ë¯¸ì§€ í¬ë§·?
A2: WebP ìš°ì„ , PNG fallback

Q3: ì‹œê³„ ìŠ¤íƒ€ì¼?
A3: ë””ì§€í„¸ë§Œ (Phase 1)

Q4: ë‹¤í¬ëª¨ë“œ ì§€ì›?
A4: ìë™ ì§€ì› (ì‹œìŠ¤í…œ ë”°ë¦„)

Q5: í–…í‹± í”¼ë“œë°±?
A5: ì§€ì› (ê¸°ë³¸ ON)
```

### **ë‚˜ì¤‘ì— ê²°ì •**
```
- ì¸ì•± êµ¬ë§¤ ê°€ê²©
- í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥ ë²”ìœ„
- ì»¨í…ì¸  í™•ì¥ ì „ëµ
- ë§ˆì¼€íŒ… ì±„ë„
```

---

## ğŸ“š Appendix

### **A. OAuth Flow Details**
```
Apple Sign In:
1. ë²„íŠ¼ íƒ­
2. Face ID/Touch ID ì¸ì¦
3. Apple ID ì„œë²„ í†µì‹ 
4. identityToken ìˆ˜ì‹ 
5. ì•± ë‚´ë¶€ user_id ìƒì„±
6. SQLite ì €ì¥

Google Sign In:
1. ë²„íŠ¼ íƒ­
2. Google OAuth ì›¹ë·°
3. ê³„ì • ì„ íƒ
4. idToken ìˆ˜ì‹ 
5. ì•± ë‚´ë¶€ user_id ìƒì„±
6. SQLite ì €ì¥
```

### **B. SQLite ì´ˆê¸°í™” ë¡œì§**
```
ì•± ìµœì´ˆ ì‹¤í–‰ ì‹œ:
1. SQLite íŒŒì¼ ìƒì„±
2. í…Œì´ë¸” ìƒì„± (ìŠ¤í‚¤ë§ˆ)
3. initial_tracks.json ì½ê¸°
4. tracks í…Œì´ë¸”ì— ì‹œë“œ ë°ì´í„° ì‚½ì…
5. app_metadataì— ì´ˆê¸°í™” ì™„ë£Œ ê¸°ë¡

ì´í›„ ì‹¤í–‰:
1. SQLite íŒŒì¼ ì¡´ì¬ í™•ì¸
2. ë²„ì „ ì²´í¬
3. í•„ìš” ì‹œ ë§ˆì´ê·¸ë ˆì´ì…˜
```

### **C. ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¼ì´ì„ ìŠ¤**
```
ëª¨ë“  ë¼ì´ë¸ŒëŸ¬ë¦¬ MIT/Apache 2.0 í™•ì¸:
- react-native-track-player: Apache 2.0
- react-native-sqlite-storage: MIT
- @react-navigation: MIT
- react-native-fast-image: MIT

ìƒì—…ì  ì‚¬ìš© ê°€ëŠ¥, ê·€ì† í‘œê¸° í•„ìš”
```

---

## âœ… Sign-off
```
ì‘ì„±ì: Leo
ìŠ¹ì¸: [PM Name]
ê²€í† : [Tech Lead Name]
ë‚ ì§œ: 2025-01-25

Phase 1 ê°œë°œ ì°©ìˆ˜ ìŠ¹ì¸
ì˜ˆìƒ ì™„ë£Œ: 2025-03-22

ì´ PRDë¡œ ê°œë°œ ì§„í–‰ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì¶”ê°€ ëª…ì„¸ í•„ìš”í•œ ë¶€ë¶„ ìˆìœ¼ì‹œë©´ ë§ì”€í•˜ì„¸ìš”.